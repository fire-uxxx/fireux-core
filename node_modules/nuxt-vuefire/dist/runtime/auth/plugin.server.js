import { debugErrorMap, prodErrorMap } from "firebase/auth";
import { _VueFireAuthInit } from "vuefire";
import { defineNuxtPlugin } from "#imports";
export default defineNuxtPlugin((nuxtApp) => {
  const firebaseApp = nuxtApp.$firebaseApp;
  const [_user, auth] = _VueFireAuthInit(
    firebaseApp,
    nuxtApp.vueApp,
    nuxtApp.payload.vuefireUser,
    {
      errorMap: process.env.NODE_ENV === "production" ? prodErrorMap : debugErrorMap
    }
  );
  return {
    provide: {
      firebaseAuth: auth
    }
  };
});
