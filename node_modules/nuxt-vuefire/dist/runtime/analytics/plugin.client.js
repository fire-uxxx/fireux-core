import { isSupported, initializeAnalytics } from "firebase/analytics";
import { defineNuxtPlugin, useRuntimeConfig } from "#imports";
export default defineNuxtPlugin(async (nuxtApp) => {
  const runtimeConfig = useRuntimeConfig();
  const options = runtimeConfig.public.vuefire.analytics;
  const firebaseApp = nuxtApp.$firebaseApp;
  if (await isSupported()) {
    initializeAnalytics(firebaseApp, options);
  } else {
    console.info(
      "[nuxt-vuefire]: Firebase Analytics is not supported on this platform."
    );
  }
});
